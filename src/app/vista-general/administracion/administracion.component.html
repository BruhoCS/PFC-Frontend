<div class="admin-container">

    <!-- SECCIÓN USUARIOS -->
    <div class="seccion">
        <h2>Gestión de Usuarios</h2>

        <div class="fila">
            <!-- FORMULARIO USUARIOS -->
            <form [formGroup]="formUsuarios" class="formulario">

                <input type="hidden" formControlName="id">

                <div class="form-row">
                    <label>Nombre:</label>
                    <input type="text" formControlName="name">
                </div>
                <div *ngIf="campoName?.touched && campoName?.invalid" class="errores">
                    <p>Debe introducir un nombre válido.</p>
                </div>

                <div class="form-row">
                    <label>Email:</label>
                    <input type="email" formControlName="email">
                </div>
                <div *ngIf="campoEmail?.touched && campoEmail?.invalid" class="errores">
                    <p>Debe introducir un email válido.</p>
                </div>

                <div class="form-row">
                    <label>Contraseña:</label>
                    <input type="password" formControlName="password">
                </div>
                <div *ngIf="campoPassword?.touched && campoPassword?.invalid" class="errores">
                    <p>Debe introducir una contraseña válida.</p>
                </div>

                <div class="form-row">
                    <label>Plan:</label>
                    <select formControlName="id_plan">
                        <option value="">Selecciona un plan</option>
                        <option *ngFor="let plan of planes" [value]="plan.id">
                            {{ plan.nombre }}
                        </option>
                    </select>
                </div>

                <div *ngIf="campoIdPlan?.touched && campoIdPlan?.invalid" class="errores">
                    <p>Debe seleccionar un plan.</p>
                </div>


                <div class="form-row">
                    <label>Rol:</label>
                    <select formControlName="rol">
                        <option value="user">Usuario</option>
                        <option value="admin">Administrador</option>
                    </select>
                </div>
                <div *ngIf="campoRol?.touched && campoRol?.invalid" class="errores">
                    <p>Debe seleccionar un rol.</p>
                </div>

                <div class="form-row">
                    <label>Apellido:</label>
                    <input type="text" formControlName="apellido">
                </div>
                <div *ngIf="campoApellido?.touched && campoApellido?.invalid" class="errores">
                    <p>Debe introducir un apellido válido.</p>
                </div>

                <div class="form-row">
                    <label>Teléfono:</label>
                    <input type="text" formControlName="telefono">
                </div>
                <div *ngIf="campoTelefono?.touched && campoTelefono?.invalid" class="errores">
                    <p>Debe introducir un teléfono válido.</p>
                </div>

                <div class="form-row">
                    <label>Dirección:</label>
                    <input type="text" formControlName="direccion">
                </div>
                <div *ngIf="campoDireccion?.touched && campoDireccion?.invalid" class="errores">
                    <p>Debe introducir una dirección válida.</p>
                </div>

                <div class="form-row">
                    <label>Hobby:</label>
                    <input type="text" formControlName="hobby">
                </div>
                <div *ngIf="campoHobby?.touched && campoHobby?.invalid" class="errores">
                    <p>Debe introducir un hobby válido.</p>
                </div>

                <div class="botones">
                    <button type="button" (click)="crearUsuario(this.formUsuarios.value)">Crear usuario</button>
                    <button type="button" (click)="modificarUsuario()">Modificar usuario</button>
                </div>
            </form>


            <!-- LISTA DE USUARIOS -->
            <div class="lista">
                <div class="tarjeta" *ngFor="let u of usuarios">
                    <p><strong>{{ u.name }}</strong></p>
                    <p>{{ u.email }}</p>
                    <p>Rol: {{ u.rol }}</p>

                    <a (click)="obtenerUser(u)">Modificar</a>
                    <a (click)="borrarUsuario(u.id)">Eliminar</a>
                </div>
            </div>

        </div>
    </div>

    <!-- SECCIÓN DEPORTES -->
    <div class="seccion">
        <h2>Gestión de Deportes</h2>

        <div class="fila">

            <!-- FORMULARIO DEPORTES -->
            <form [formGroup]="formDeportes" class="formulario">

                <div class="form-row">
                    <label>Nombre:</label>
                    <input type="text" formControlName="nombre">
                </div>
                <div *ngIf="campoNombreDep?.touched && campoNombreDep?.invalid" class="errores">
                    <p>Debe introducir un nombre válido.</p>
                </div>

                <div class="form-row">
                    <label>Día:</label>
                    <select formControlName="dia">
                        <option value="">Seleccione un día</option>
                        <option value="Lunes">Lunes</option>
                        <option value="Martes">Martes</option>
                        <option value="Miércoles">Miércoles</option>
                        <option value="Jueves">Jueves</option>
                        <option value="Viernes">Viernes</option>
                        <option value="Sábado">Sábado</option>
                        <option value="Domingo">Domingo</option>
                    </select>
                </div>

                <div class="form-row">
                    <label>Entrenador:</label>
                    <select formControlName="id_entrenador">
                        <option value="">Seleccione un entrenador</option>
                        <option *ngFor="let ent of entrenadores" [value]="ent.id">
                            {{ ent.nombre }} {{ ent.apellido }}
                        </option>
                    </select>
                </div>

                <div *ngIf="campoIdEntrenador?.touched && campoIdEntrenador?.invalid" class="errores">
                    <p>Debe seleccionar un entrenador válido.</p>
                </div>


                <div *ngIf="campoDia?.touched && campoDia?.invalid" class="errores">
                    <p>Debe seleccionar un día válido.</p>
                </div>


                <div class="form-row">
                    <label>Precio:</label>
                    <input type="text" formControlName="precio">
                </div>
                <div *ngIf="campoPrecio?.touched && campoPrecio?.invalid" class="errores">
                    <p>Debe introducir un precio válido.</p>
                </div>

                <div class="form-row">
                    <label>Descripción:</label>
                    <textarea rows="2" formControlName="descripcion"></textarea>
                </div>
                <div *ngIf="campoDescripcion?.touched && campoDescripcion?.invalid" class="errores">
                    <p>Debe introducir una descripción válida.</p>
                </div>

                <div class="form-row">
                    <label>Nivel:</label>
                    <select formControlName="nivel">
                        <option value="">Seleccione un nivel</option>
                        <option value="Novato">Novato</option>
                        <option value="Intermedio">Intermedio</option>
                        <option value="Experto">Experto</option>
                    </select>
                </div>

                <div *ngIf="campoNivel?.touched && campoNivel?.invalid" class="errores">
                    <p>Debe seleccionar un nivel válido.</p>
                </div>


                <div class="form-row">
                    <label>Duración:</label>
                    <input type="text" formControlName="duracion">
                </div>
                <div *ngIf="campoDuracion?.touched && campoDuracion?.invalid" class="errores">
                    <p>Debe introducir una duración válida.</p>
                </div>

                <div class="botones">
                    <button (click)="crearDeporte(this.formDeportes.value)">Crear deporte</button>
                    <button (click)="modificarDeporte()">Modificar deporte</button>
                </div>
            </form>


            <!-- LISTA DE DEPORTES -->
            <div class="lista">
                <div class="tarjeta" *ngFor="let d of deportes">
                    <p><strong>{{ d.nombre }}</strong></p>
                    <p>{{ d.dia }} — {{ d.precio }} €</p>
                    <a (click)="obtenerDeporte(d)">Modificar</a>
                    <a (click)="borrarDeporte(d)">Eliminar</a>
                </div>
            </div>
        </div>
    </div>

    <!-- SECCIÓN ENTRENADORES -->
    <div class="seccion">
        <h2>Gestión de Entrenadores</h2>

        <div class="fila">

            <form [formGroup]="formEntrenadores" class="formulario">

                <input type="hidden" formControlName="id">

                <div class="form-row">
                    <label>Email:</label>
                    <input type="email" formControlName="email">
                </div>
                <div *ngIf="campoEmailEnt?.touched && campoEmailEnt?.invalid" class="errores">
                    <p>Debe introducir un email válido.</p>
                </div>

                <div class="form-row">
                    <label>Nombre:</label>
                    <input type="text" formControlName="nombre">
                </div>
                <div *ngIf="campoNombreEnt?.touched && campoNombreEnt?.invalid" class="errores">
                    <p>Debe introducir un nombre válido.</p>
                </div>

                <div class="form-row">
                    <label>Apellido:</label>
                    <input type="text" formControlName="apellido">
                </div>
                <div *ngIf="campoApellidoEnt?.touched && campoApellidoEnt?.invalid" class="errores">
                    <p>Debe introducir un apellido válido.</p>
                </div>

                <div class="form-row">
                    <label>Dirección:</label>
                    <input type="text" formControlName="direccion">
                </div>
                <div *ngIf="campoDireccionEnt?.touched && campoDireccionEnt?.invalid" class="errores">
                    <p>Debe introducir una dirección válida.</p>
                </div>

                <div class="form-row">
                    <label>Teléfono:</label>
                    <input type="text" formControlName="telefono">
                </div>
                <div *ngIf="campoTelefonoEnt?.touched && campoTelefonoEnt?.invalid" class="errores">
                    <p>Debe introducir un teléfono válido.</p>
                </div>

                <div class="botones">
                    <button (click)="crearEntrenador(this.formEntrenadores.value)">Crear entrenador</button>
                    <button (click)="modificarEntrenador()">Modificar entrenador</button>
                </div>

            </form>


            <!-- LISTA ENTRENADORES -->
            <div class="lista">
                <div class="tarjeta" *ngFor="let e of entrenadores">
                    <p><strong>{{ e.nombre }} {{ e.apellido }}</strong></p>
                    <p>{{ e.email }}</p>
                    <a (click)="obtenerEntrenador(e)">Modificar</a>
                    <a (click)="borrarEntrenador(e)">Eliminar</a>
                </div>
            </div>
        </div>
    </div>

</div>